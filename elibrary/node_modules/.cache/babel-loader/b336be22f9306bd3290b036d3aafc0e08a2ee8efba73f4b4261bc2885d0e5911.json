{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/web.url-search-params.delete.js\";\nimport \"core-js/modules/web.url-search-params.has.js\";\nimport \"core-js/modules/web.url-search-params.size.js\";\nimport { createElementVNode as _createElementVNode, unref as _unref, isRef as _isRef, vModelText as _vModelText, withDirectives as _withDirectives, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, renderList as _renderList, Fragment as _Fragment, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, vShow as _vShow, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-5add35e4\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  class: \"navbar navbar-expand-lg navbar-light bg-darkblue\"\n};\nconst _hoisted_2 = [\"src\"];\nconst _hoisted_3 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"h4\", {\n  class: \"navbar-brand\",\n  href: \"#\"\n}, \"Librarian's Dashboard\", -1));\nconst _hoisted_4 = {\n  class: \"navbar\",\n  id: \"navbarNav\"\n};\nconst _hoisted_5 = {\n  class: \"navbar-nav\"\n};\nconst _hoisted_6 = {\n  class: \"input-group mb-3\"\n};\nconst _hoisted_7 = {\n  class: \"input-group-prepend\"\n};\nconst _hoisted_8 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"button\", {\n  class: \"btn btn-outline-secondary dropdown-toggle\",\n  type: \"button\",\n  \"data-bs-toggle\": \"dropdown\",\n  \"aria-haspopup\": \"true\",\n  \"aria-expanded\": \"false\"\n}, \" Filter \", -1));\nconst _hoisted_9 = {\n  class: \"dropdown-menu\"\n};\nconst _hoisted_10 = {\n  key: 0,\n  class: \"input-group-append\"\n};\nconst _hoisted_11 = {\n  key: 1,\n  class: \"input-group-append\"\n};\nconst _hoisted_12 = {\n  key: 0\n};\nconst _hoisted_13 = {\n  key: 1\n};\nconst _hoisted_14 = {\n  class: \"card-body\"\n};\nconst _hoisted_15 = {\n  class: \"d-flex justify-content-between align-items-center\",\n  style: {\n    \"font-size\": \"2em\",\n    \"font-weight\": \"bold\",\n    \"color\": \"#4169E1\"\n  }\n};\nconst _hoisted_16 = [\"onClick\"];\nconst _hoisted_17 = [\"onClick\"];\nconst _hoisted_18 = {\n  key: 0\n};\nconst _hoisted_19 = {\n  key: 1\n};\nconst _hoisted_20 = {\n  key: 0,\n  class: \"card\"\n};\nconst _hoisted_21 = {\n  class: \"card-body\"\n};\nconst _hoisted_22 = {\n  class: \"show-brand\",\n  style: {\n    \"text-align\": \"center\",\n    \"color\": \"#4169E1\"\n  }\n};\nconst _hoisted_23 = {\n  class: \"card-title\"\n};\nconst _hoisted_24 = [\"onClick\"];\nconst _hoisted_25 = [\"onClick\"];\nconst _hoisted_26 = {\n  class: \"card-body\"\n};\nconst _hoisted_27 = [\"onClick\"];\nimport { useRouter } from 'vue-router';\nimport axios from 'axios';\nimport { ref, onMounted } from 'vue';\nimport { useStore } from 'vuex';\nconst url1 = \"http://127.0.0.1:5000/admin_section\";\nconst url2 = \"http://127.0.0.1:5000/admin_book\";\nconst url3 = \"http://127.0.0.1:5000/section_book_search\";\nexport default {\n  __name: 'adDash',\n  setup(__props) {\n    const store = useStore();\n    const router = useRouter();\n    const items_sections = ref([]);\n    const items_books = ref([]);\n    const noSectionsFound = ref('');\n    const noBooksFound = ref('');\n    let is_Searching = false;\n    let keyword = ref('');\n    let selectedFilter = '';\n    const setFilter = filterBy => {\n      selectedFilter = filterBy;\n    };\n    function search(keyword) {\n      is_Searching = !is_Searching;\n      if (is_Searching == true) {\n        const token = localStorage.getItem('token');\n        const axiosInstance = axios.create({\n          baseURL: 'http://127.0.0.1:5000',\n          headers: {\n            'Authorization': `Bearer ${token}`\n          }\n        });\n        axiosInstance.get(`${url3}/${keyword}`).then(response => {\n          console.log(keyword);\n          console.log(selectedFilter);\n          console.log(response.data[0].sections);\n          console.log(response.data[1].books);\n          const searched_sections = response.data[0].sections;\n          const searched_books = response.data[1].sections;\n          if (selectedFilter === 'Section') {\n            items_sections.value = response.data[0].sections;\n            if (searched_sections.length === 0) {\n              // Update flag variable to indicate no sections found\n              noSectionsFound.value = true;\n            } else {\n              noSectionsFound.value = false;\n            }\n          } else if (selectedFilter === 'Book') {\n            items_books.value = response.data[1].books;\n            if (searched_books.length === 0) {\n              // Update flag variable to indicate no books found\n              noBooksFound.value = true;\n            } else {\n              noBooksFound.value = false;\n            }\n          } else {\n            // When no filter is selected, update both items_sections and items_books\n            items_sections.value = response.data[0].sections;\n            items_books.value = response.data[1].books;\n          }\n        }).catch(error => {\n          console.error(error);\n        });\n      } else {\n        window.location.reload();\n      }\n    }\n    function redirectToAdDashSection() {\n      router.push('/adDashSection');\n    }\n    function AddBooks(section) {\n      store.commit('setSectionforBook', section);\n      router.push('/adDashBook');\n    }\n    function redirectToRequests() {\n      router.push('/adDashReq');\n    }\n    function Logout() {\n      // Clear the entire local storage\n      localStorage.clear();\n      router.push('/loginPage');\n    }\n    function redirectToEditBook(id) {\n      store.commit('setBookId', id);\n      router.push(`/editBook/${id}`);\n    }\n    function LibSummary() {\n      router.push(`/adDashSumm`);\n    }\n    function redirectToEditSection(id) {\n      store.commit('setSectionId', id);\n      // const venue_id= venue.id\n      // console.log(venue.id)\n      router.push(`/editSection/${id}`);\n    }\n    function deleteSection(id) {\n      if (window.confirm(\"Do you really want to delete this Section?\")) {\n        const token = localStorage.getItem('token');\n        const axiosInstance = axios.create({\n          baseURL: 'http://127.0.0.1:5000',\n          headers: {\n            'Authorization': `Bearer ${token}`\n          }\n        });\n        axiosInstance.delete(`${url1}/${id}`).then(() => {\n          // console.log(res);\n          // console.log(items_sections);\n          window.location.reload();\n        }).catch(err => {\n          console.log(err);\n        });\n      } else {\n        // Do nothing if the user cancels the confirmation\n      }\n    }\n    function deleteBook(id) {\n      if (window.confirm(\"Do you really want to delete this Book?\")) {\n        const token = localStorage.getItem('token');\n        const axiosInstance = axios.create({\n          baseURL: 'http://127.0.0.1:5000',\n          headers: {\n            'Authorization': `Bearer ${token}`\n          }\n        });\n        axiosInstance.delete(`${url2}/${id}`).then(res => {\n          console.log(res);\n          console.log(items_books);\n          window.location.reload();\n        }).catch(err => {\n          console.log(err);\n        });\n      } else {\n        // Do nothing if the user cancels the confirmation\n      }\n    }\n    function exportLibraryData() {\n      if (window.confirm(\"Do you really want to export books data?\")) {\n        const token = localStorage.getItem('token');\n        const axiosInstance = axios.create({\n          baseURL: 'http://127.0.0.1:5000',\n          headers: {\n            'Authorization': `Bearer ${token}`\n          },\n          responseType: 'blob'\n        });\n        axiosInstance.get('/export_book_data').then(response => {\n          console.log(response);\n          const downloadLink = document.createElement('a');\n          downloadLink.href = URL.createObjectURL(response.data);\n          downloadLink.download = 'books_available.csv';\n          document.body.appendChild(downloadLink);\n          downloadLink.click();\n        }).catch(error => {\n          console.log(error);\n        });\n      }\n    }\n    const fetchData = () => {\n      const token = localStorage.getItem('token');\n      const axiosInstance = axios.create({\n        baseURL: 'http://127.0.0.1:5000',\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      });\n      axiosInstance.get('http://127.0.0.1:5000/admin_section').then(response => {\n        items_sections.value = response.data.sections;\n        if (response.data.sections.length === 0) {\n          // Update flag variable to indicate no sections found\n          noSectionsFound.value = true;\n        } else {\n          noSectionsFound.value = false;\n        }\n      }).catch(error => {\n        console.log(error);\n      });\n      axiosInstance.get('http://127.0.0.1:5000/admin_book').then(response => {\n        items_books.value = response.data.books;\n        if (response.data.books.length === 0) {\n          // Update flag variable to indicate no books found\n          noBooksFound.value = true;\n        } else {\n          noBooksFound.value = false;\n        }\n      }).catch(error => {\n        console.log(error);\n      });\n    };\n    onMounted(() => {\n      fetchData();\n    });\n    return (_ctx, _cache) => {\n      return _openBlock(), _createElementBlock(_Fragment, null, [_createElementVNode(\"nav\", _hoisted_1, [_createElementVNode(\"img\", {\n        src: require('@/assets/library.png'),\n        style: {\n          \"width\": \"120px\",\n          \"height\": \"30x\"\n        },\n        alt: \"Image Description\"\n      }, null, 8, _hoisted_2), _hoisted_3, _createElementVNode(\"div\", _hoisted_4, [_createElementVNode(\"ul\", _hoisted_5, [_createElementVNode(\"div\", _hoisted_6, [_createElementVNode(\"div\", _hoisted_7, [_hoisted_8, _createElementVNode(\"div\", _hoisted_9, [_createElementVNode(\"a\", {\n        class: \"dropdown-item\",\n        onClick: _cache[0] || (_cache[0] = $event => setFilter('Section')),\n        href: \"#\"\n      }, \"Section\"), _createElementVNode(\"a\", {\n        class: \"dropdown-item\",\n        onClick: _cache[1] || (_cache[1] = $event => setFilter('Book')),\n        href: \"#\"\n      }, \"Book\")])]), _withDirectives(_createElementVNode(\"input\", {\n        type: \"text\",\n        \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => _isRef(keyword) ? keyword.value = $event : keyword = $event),\n        class: \"form-control\",\n        placeholder: \"Search...\",\n        \"aria-label\": \"Search input\",\n        \"aria-describedby\": \"basic-addon2\"\n      }, null, 512), [[_vModelText, _unref(keyword)]]), _createElementVNode(\"div\", null, [_unref(is_Searching) == true ? (_openBlock(), _createElementBlock(\"div\", _hoisted_10, [_createElementVNode(\"button\", {\n        onClick: _cache[3] || (_cache[3] = $event => search(_unref(keyword))),\n        class: \"btn btn-danger\",\n        type: \"button\"\n      }, \"Cancel Search\")])) : (_openBlock(), _createElementBlock(\"div\", _hoisted_11, [_createElementVNode(\"button\", {\n        onClick: _cache[4] || (_cache[4] = $event => search(_unref(keyword))),\n        class: \"btn btn-primary\",\n        type: \"button\"\n      }, \"Search\")]))])]), _createElementVNode(\"li\", {\n        class: \"navbar-button\"\n      }, [_createElementVNode(\"button\", {\n        type: \"navbar-button\",\n        class: \"btn btn-primary\",\n        onClick: redirectToRequests\n      }, \"Requests\")]), _createElementVNode(\"li\", {\n        class: \"navbar-button\"\n      }, [_createElementVNode(\"button\", {\n        type: \"navbar-button\",\n        class: \"btn btn-danger\",\n        onClick: Logout\n      }, \"Logout\")])])])]), _createElementVNode(\"div\", {\n        class: \"card\"\n      }, [_createElementVNode(\"div\", {\n        class: \"card-body\",\n        style: {\n          \"text-align\": \"center\"\n        }\n      }, [_createElementVNode(\"button\", {\n        type: \"button\",\n        style: {\n          \"margin-right\": \"20px\"\n        },\n        class: \"btn btn-primary\",\n        onClick: redirectToAdDashSection\n      }, \"Create Section\"), _createElementVNode(\"button\", {\n        type: \"button\",\n        style: {\n          \"margin-right\": \"20px\"\n        },\n        class: \"btn btn-primary\",\n        onClick: exportLibraryData\n      }, \"Export Library Data\"), _createElementVNode(\"button\", {\n        type: \"button\",\n        style: {\n          \"margin-right\": \"20px\"\n        },\n        class: \"btn btn-primary\",\n        onClick: LibSummary\n      }, \"Books Summary\")])]), noSectionsFound.value ? (_openBlock(), _createElementBlock(\"div\", _hoisted_12, \"No Sections and Books found.\")) : (_openBlock(), _createElementBlock(\"div\", _hoisted_13, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList(items_sections.value, section => {\n        return _openBlock(), _createElementBlock(\"div\", {\n          class: \"card\",\n          key: section.Section_Title\n        }, [_createElementVNode(\"div\", _hoisted_14, [_createElementVNode(\"h4\", _hoisted_15, [_createTextVNode(_toDisplayString(section.Section_Title) + \" \", 1), _createElementVNode(\"div\", null, [_createElementVNode(\"button\", {\n          style: {\n            \"margin-right\": \"10px\"\n          },\n          class: \"btn btn-outline-info\",\n          onClick: $event => redirectToEditSection(section.id)\n        }, \"Edit Section\", 8, _hoisted_16), _createElementVNode(\"button\", {\n          class: \"btn btn-outline-danger\",\n          onClick: $event => deleteSection(section.id)\n        }, \"Delete Section\" + _toDisplayString(section.id), 9, _hoisted_17)])]), _createElementVNode(\"h5\", null, \"Created on: \" + _toDisplayString(section.DateCreated) + \" && Description: \" + _toDisplayString(section.Description), 1), noBooksFound.value ? (_openBlock(), _createElementBlock(\"div\", _hoisted_18, \"No Books found.\")) : (_openBlock(), _createElementBlock(\"div\", _hoisted_19, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList(items_books.value, book => {\n          return _withDirectives((_openBlock(), _createElementBlock(\"div\", {\n            key: book.Book_Title,\n            style: {\n              \"display\": \"inline-block\",\n              \"margin\": \"10px\",\n              \"padding\": \"10px\",\n              \"border\": \"1px solid #ccc\",\n              \"border-radius\": \"5px\",\n              \"background-color\": \"#6A5ACD\"\n            }\n          }, [section.Section_Title == book.ForSection ? (_openBlock(), _createElementBlock(\"div\", _hoisted_20, [_createElementVNode(\"div\", _hoisted_21, [_createElementVNode(\"h5\", _hoisted_22, _toDisplayString(book.Book_Title), 1), _createElementVNode(\"h5\", _hoisted_23, \"Author: \" + _toDisplayString(book.Author), 1), _createElementVNode(\"button\", {\n            style: {\n              \"margin-right\": \"10px\"\n            },\n            class: \"btn btn-outline-info\",\n            onClick: $event => redirectToEditBook(book.id)\n          }, \"Edit Book\", 8, _hoisted_24), _createElementVNode(\"button\", {\n            style: {\n              \"margin-right\": \"10px\"\n            },\n            class: \"btn btn-outline-danger\",\n            onClick: $event => deleteBook(book.id)\n          }, \"Delete Book\" + _toDisplayString(book.id), 9, _hoisted_25)])])) : _createCommentVNode(\"\", true)])), [[_vShow, section.Section_Title == book.ForSection]]);\n        }), 128))])), _createElementVNode(\"div\", _hoisted_26, [_createElementVNode(\"button\", {\n          type: \"button\",\n          class: \"btn btn-outline-primary\",\n          onClick: $event => AddBooks(section)\n        }, \"Add New Book for \" + _toDisplayString(section.Section_Title), 9, _hoisted_27)])])]);\n      }), 128))]))], 64);\n    };\n  }\n};","map":{"version":3,"names":["useRouter","axios","ref","onMounted","useStore","url1","url2","url3","store","router","items_sections","items_books","noSectionsFound","noBooksFound","is_Searching","keyword","selectedFilter","setFilter","filterBy","search","token","localStorage","getItem","axiosInstance","create","baseURL","headers","get","then","response","console","log","data","sections","books","searched_sections","searched_books","value","length","catch","error","window","location","reload","redirectToAdDashSection","push","AddBooks","section","commit","redirectToRequests","Logout","clear","redirectToEditBook","id","LibSummary","redirectToEditSection","deleteSection","confirm","delete","err","deleteBook","res","exportLibraryData","responseType","downloadLink","document","createElement","href","URL","createObjectURL","download","body","appendChild","click","fetchData"],"sources":["/Users/apsg/JANMAD2/elibrary/src/components/adDash.vue"],"sourcesContent":["<template>\n  <nav class=\"navbar navbar-expand-lg navbar-light bg-darkblue\">\n    <img :src=\"require('@/assets/library.png')\" style=\"width: 120px; height: 30x;\" alt=\"Image Description\" />\n    <h4 class=\"navbar-brand\" href=\"#\">Librarian's Dashboard</h4>\n    <div class=\"navbar\" id=\"navbarNav\">\n      <ul class=\"navbar-nav\">\n        <div class=\"input-group mb-3\">\n          <!-- Dropdown -->\n\n          <div class=\"input-group-prepend\">\n            <button class=\"btn btn-outline-secondary dropdown-toggle\" type=\"button\" data-bs-toggle=\"dropdown\"\n              aria-haspopup=\"true\" aria-expanded=\"false\">\n              Filter\n            </button>\n            <div class=\"dropdown-menu\">\n              <a class=\"dropdown-item\" @click=\"setFilter('Section')\" href=\"#\">Section</a>\n              <a class=\"dropdown-item\" @click=\"setFilter('Book')\" href=\"#\">Book</a>\n\n            </div>\n          </div>\n\n          <!-- Input Field -->\n          <input type=\"text\" v-model=\"keyword\" class=\"form-control\" placeholder=\"Search...\" aria-label=\"Search input\"\n            aria-describedby=\"basic-addon2\">\n\n          <!-- Search Button -->\n          <div>\n            <div v-if=\"is_Searching == true\" class=\"input-group-append\">\n              <button @click=\"search(keyword)\" class=\"btn btn-danger\" type=\"button\">Cancel Search</button>\n            </div>\n            <div v-else class=\"input-group-append\">\n              <button @click=\"search(keyword)\" class=\"btn btn-primary\" type=\"button\">Search</button>\n            </div>\n          </div>\n        </div>\n\n        <li class=\"navbar-button\">\n          <button type=\"navbar-button\" class=\"btn btn-primary\" @click=\"redirectToRequests\">Requests</button>\n        </li>\n\n        <li class=\"navbar-button\">\n          <button type=\"navbar-button\" class=\"btn btn-danger\" @click=\"Logout\">Logout</button>\n        </li>\n      </ul>\n\n    </div>\n  </nav>\n\n\n  <!-- Start Create Section card  -->\n  <div class=\"card\">\n    <div class=\"card-body\" style=\"text-align: center;\">\n      <button type=\"button\" style=\"margin-right: 20px;\" class=\"btn btn-primary\" @click='redirectToAdDashSection'>Create\n        Section</button>\n      <button type=\"button\" style=\"margin-right: 20px;\" class=\"btn btn-primary\" @click='exportLibraryData'>Export\n        Library Data</button>\n      <button type=\"button\" style=\"margin-right: 20px;\" class=\"btn btn-primary\" @click='LibSummary'>Books\n        Summary</button>\n    </div>\n  </div>\n  <!--  End Create Section card -->\n\n\n  <!-- Card for Section and Books -->\n  <div v-if=\"noSectionsFound\">No Sections and Books found.</div>\n  <div v-else>\n    <div class=\"card\" v-for=\"section in items_sections\" :key=\"section.Section_Title\">\n      <div class=\"card-body\">\n        <h4 class=\"d-flex justify-content-between align-items-center\"\n          style=\"font-size: 2em; font-weight: bold; color: #4169E1;\">{{ section.Section_Title }}\n          <div>\n            <button style=\"margin-right: 10px;\" class=\"btn btn-outline-info\"\n              @click=\"redirectToEditSection(section.id)\">Edit Section</button>\n            <button class=\"btn btn-outline-danger\" @click=\"deleteSection(section.id)\">Delete Section{{ section.id\n              }}</button>\n          </div>\n        </h4>\n        <h5>Created on: {{ section.DateCreated }} &&\n          Description: {{ section.Description }}\n        </h5>\n\n        <div v-if=\"noBooksFound\">No Books found.</div>\n        <div v-else>\n          <div v-for=\"book in items_books\" :key=\"book.Book_Title\" v-show=\"section.Section_Title == book.ForSection\"\n            style=\"display: inline-block; margin: 10px; padding: 10px; border: 1px solid #ccc; border-radius: 5px; background-color: #6A5ACD;\">\n            <div class=\"card\" v-if=\"section.Section_Title == book.ForSection\">\n\n              <div class=\"card-body\">\n                <h5 class=\"show-brand\" style=\" text-align: center; color: #4169E1;\">{{ book.Book_Title }}</h5>\n                <h5 class=\"card-title\">Author: {{ book.Author }}</h5>\n                <button style=\"margin-right: 10px;\" class=\"btn btn-outline-info\"\n                  @click=\"redirectToEditBook(book.id)\">Edit Book</button>\n                <button style=\"margin-right: 10px;\" class=\"btn btn-outline-danger\" @click=\"deleteBook(book.id)\">Delete\n                  Book{{ book.id }}</button>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <div class=\"card-body\">\n          <button type=\"button\" class=\"btn btn-outline-primary\" @click=\"AddBooks(section)\">Add New Book for {{\n      section.Section_Title }}</button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { useRouter } from 'vue-router';\nimport axios from 'axios';\nimport { ref, onMounted } from 'vue';\nimport { useStore } from 'vuex';\n\nconst store = useStore();\nconst router = useRouter();\n\nconst items_sections = ref([]);\nconst items_books = ref([]);\nconst noSectionsFound = ref('');\nconst noBooksFound = ref('');\nlet is_Searching = false;\n\nconst url1 = \"http://127.0.0.1:5000/admin_section\";\nconst url2 = \"http://127.0.0.1:5000/admin_book\";\nconst url3 = \"http://127.0.0.1:5000/section_book_search\";\n\nlet keyword = ref('');\nlet selectedFilter = '';\n\n\nconst setFilter = (filterBy) => {\n  selectedFilter = filterBy;\n};\n\nfunction search(keyword) {\n  is_Searching = !is_Searching;\n  if (is_Searching == true) {\n    const token = localStorage.getItem('token');\n    const axiosInstance = axios.create({\n      baseURL: 'http://127.0.0.1:5000',\n      headers: {\n        'Authorization': `Bearer ${token}`\n      }\n    });\n    axiosInstance.get(`${url3}/${keyword}`).then(response => {\n      console.log(keyword)\n      console.log(selectedFilter)\n      console.log(response.data[0].sections)\n      console.log(response.data[1].books)\n      const searched_sections = response.data[0].sections;\n      const searched_books = response.data[1].sections;\n\n      if (selectedFilter === 'Section') {\n        items_sections.value = response.data[0].sections;\n        if (searched_sections.length === 0) {\n          // Update flag variable to indicate no sections found\n          noSectionsFound.value = true;\n        } else {\n          noSectionsFound.value = false;\n        }\n      } else if (selectedFilter === 'Book') {\n        items_books.value = response.data[1].books;\n        if (searched_books.length === 0) {\n          // Update flag variable to indicate no books found\n          noBooksFound.value = true;\n        } else {\n          noBooksFound.value = false;\n        }\n      } else {\n        // When no filter is selected, update both items_sections and items_books\n        items_sections.value = response.data[0].sections;\n        items_books.value = response.data[1].books;\n      }\n    }).catch(error => {\n      console.error(error);\n    });\n  } else { window.location.reload(); }\n}\n\nfunction redirectToAdDashSection() {\n  router.push('/adDashSection')\n}\n\nfunction AddBooks(section) {\n  store.commit('setSectionforBook', section)\n  router.push('/adDashBook')\n}\n\nfunction redirectToRequests() {\n  router.push('/adDashReq')\n}\nfunction Logout() {\n  // Clear the entire local storage\n  localStorage.clear();\n  router.push('/loginPage')\n}\n\nfunction redirectToEditBook(id) {\n  store.commit('setBookId', id);\n\n  router.push(`/editBook/${id}`)\n}\n\nfunction LibSummary() {\n\n  router.push(`/adDashSumm`)\n}\n\nfunction redirectToEditSection(id) {\n  store.commit('setSectionId', id);\n  // const venue_id= venue.id\n  // console.log(venue.id)\n  router.push(`/editSection/${id}`)\n}\n\nfunction deleteSection(id) {\n  if (window.confirm(\"Do you really want to delete this Section?\")) {\n    const token = localStorage.getItem('token');\n    const axiosInstance = axios.create({\n      baseURL: 'http://127.0.0.1:5000',\n      headers: {\n        'Authorization': `Bearer ${token}`\n      }\n    });\n    axiosInstance.delete(`${url1}/${id}`).then(() => {\n      // console.log(res);\n      // console.log(items_sections);\n      window.location.reload();\n    }).catch((err) => {\n      console.log(err);\n    });\n  } else {\n    // Do nothing if the user cancels the confirmation\n  }\n}\n\nfunction deleteBook(id) {\n  if (window.confirm(\"Do you really want to delete this Book?\")) {\n    const token = localStorage.getItem('token');\n    const axiosInstance = axios.create({\n      baseURL: 'http://127.0.0.1:5000',\n      headers: {\n        'Authorization': `Bearer ${token}`\n      }\n    });\n    axiosInstance.delete(`${url2}/${id}`).then((res) => {\n      console.log(res);\n      console.log(items_books);\n      window.location.reload();\n    }).catch((err) => {\n      console.log(err);\n    });\n  } else {\n    // Do nothing if the user cancels the confirmation\n  }\n}\n\nfunction exportLibraryData() {\n  if (window.confirm(\"Do you really want to export books data?\")) {\n    const token = localStorage.getItem('token');\n    const axiosInstance = axios.create({\n      baseURL: 'http://127.0.0.1:5000',\n      headers: { 'Authorization': `Bearer ${token}` },\n      responseType: 'blob',\n    });\n\n    axiosInstance.get('/export_book_data')\n      .then(response => {\n        console.log(response)\n        const downloadLink = document.createElement('a');\n        downloadLink.href = URL.createObjectURL(response.data);\n        downloadLink.download = 'books_available.csv';\n\n        document.body.appendChild(downloadLink)\n        downloadLink.click();\n      })\n      .catch(error => {\n        console.log(error)\n\n      });\n  }\n\n}\n\nconst fetchData = () => {\n  const token = localStorage.getItem('token');\n  const axiosInstance = axios.create({\n    baseURL: 'http://127.0.0.1:5000',\n    headers: {\n      'Authorization': `Bearer ${token}`\n    }\n  });\n  axiosInstance.get('http://127.0.0.1:5000/admin_section')\n    .then(response => {\n      items_sections.value = response.data.sections;\n      if (response.data.sections.length === 0) {\n        // Update flag variable to indicate no sections found\n        noSectionsFound.value = true;\n      } else {\n        noSectionsFound.value = false;\n      }\n    })\n    .catch(error => {\n      console.log(error);\n    });\n  axiosInstance.get('http://127.0.0.1:5000/admin_book')\n    .then(response => {\n      items_books.value = response.data.books;\n      if (response.data.books.length === 0) {\n        // Update flag variable to indicate no books found\n        noBooksFound.value = true;\n      } else {\n        noBooksFound.value = false;\n      }\n    })\n    .catch(error => {\n      console.log(error);\n    });\n};\n\nonMounted(() => {\n  fetchData();\n});\n\n</script>\n\n<style scoped>\n.navbar {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  text-align: center;\n  padding: 10px;\n  color: #fff;\n}\n\n.navbar-brand {\n  text-align: center;\n  flex-grow: 1;\n  margin: 0;\n  font-size: 36px;\n  font-weight: bold;\n  color: #4169E1;\n}\n\n.navbar-button {\n  margin-left: 10px;\n  color: #166295;\n}\n\n.show-style {\n  display: inline-block;\n  margin: 10px;\n  padding: 10px;\n  border: 1px solid #ccc;\n  border-radius: 5px;\n  background-color: #f9f9f9;\n}\n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}