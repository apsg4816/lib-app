{"ast":null,"code":"import { createElementVNode as _createElementVNode, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-89bca3f2\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"h4\", {\n  class: \"navbar-brand\",\n  href: \"#\"\n}, \"Summary of Books\", -1 /* HOISTED */));\nconst _hoisted_2 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"hr\", {\n  style: {\n    \"border\": \"1px solid #4169E1\"\n  }\n}, null, -1 /* HOISTED */));\nconst _hoisted_3 = {\n  ref: \"chart\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(_Fragment, null, [_createElementVNode(\"nav\", {\n    class: \"navbar navbar-expand-lg navbar-light bg-darkblue\"\n  }, [_hoisted_1, _createElementVNode(\"div\", {\n    class: \"navbar\",\n    id: \"navbarNav\"\n  }, [_createElementVNode(\"ul\", {\n    class: \"navbar-nav\"\n  }, [_createElementVNode(\"li\", {\n    class: \"navbar-button\"\n  }, [_createElementVNode(\"button\", {\n    type: \"navbar-button\",\n    class: \"btn btn-primary\",\n    onClick: $setup.redirectToHome\n  }, \"Home\")]), _createElementVNode(\"li\", {\n    class: \"navbar-button\"\n  }, [_createElementVNode(\"button\", {\n    type: \"navbar-button\",\n    class: \"btn btn-primary\",\n    onClick: $setup.Logout\n  }, \"Logout\")])])])]), _hoisted_2, _createElementVNode(\"template\", null, [_createElementVNode(\"div\", null, [_createElementVNode(\"canvas\", _hoisted_3, null, 512 /* NEED_PATCH */)])])], 64 /* STABLE_FRAGMENT */);\n}","map":{"version":3,"names":["_createElementVNode","class","href","style","ref","_createElementBlock","_Fragment","_hoisted_1","id","type","onClick","$setup","redirectToHome","Logout","_hoisted_2","_hoisted_3"],"sources":["/Users/apsg/JANMAD2/elibrary/src/components/adDashSumm.vue"],"sourcesContent":["<template>\n    <nav class=\"navbar navbar-expand-lg navbar-light bg-darkblue\">\n        <h4 class=\"navbar-brand\" href=\"#\">Summary of Books</h4>\n        <div class=\"navbar\" id=\"navbarNav\">\n            <ul class=\"navbar-nav\">\n\n                <li class=\"navbar-button\">\n                    <button type=\"navbar-button\" class=\"btn btn-primary\" @click=\"redirectToHome\">Home</button>\n                </li>\n\n                <li class=\"navbar-button\">\n                    <button type=\"navbar-button\" class=\"btn btn-primary\" @click=\"Logout\">Logout</button>\n                </li>\n            </ul>\n        </div>\n    </nav>\n    <hr style=\"border: 1px solid #4169E1; \">\n   \n    <template>\n    <div>\n      <canvas ref=\"chart\"></canvas>\n    </div>\n   </template>\n   \n</template>\n\n  \n  <script setup>\n  import { ref, onMounted } from 'vue';\n  import Chart from 'chart.js/auto';\n  import { useRouter } from 'vue-router';\n  import axios from 'axios';\n  \n\n  const router = useRouter();\n  const chart = ref(null);\n  \n  onMounted(() => {\n    const ctx = chart.value.getContext('2d');\n  \n    // Fetch data from the backend using Axios\n    const fetchData = async () => {\n      try {\n        const response = await axios.get('http://localhost:5000/book_request');\n        renderChart(response.data);\n      } catch (error) {\n        console.error('Error fetching data:', error);\n      }\n    };\n  \n    fetchData();\n  \n    const renderChart = (data) => {\n      const sections = [];\n      const booksPerSection = {};\n  \n      // Count the number of books per section\n      data.forEach((book) => {\n        if (!sections.includes(book.Section_Title)) {\n          sections.push(book.Section_Title);\n          booksPerSection[book.Section_Title] = 0;\n        }\n        booksPerSection[book.Section_Title]++;\n      });\n  \n      // Create chart data\n      const chartData = {\n        labels: sections,\n        datasets: [{\n          label: 'Total Books Requested',\n          data: sections.map((section) => booksPerSection[section]),\n          backgroundColor: '#3e95cd'\n        }]\n      };\n  \n      // Create and render the chart\n      new Chart(ctx, {\n        type: 'bar',\n        data: chartData,\n        options: {\n          scales: {\n            y: {\n              beginAtZero: true\n            }\n          }\n        }\n      });\n    };\n  });\n \n\n\nfunction redirectToHome() {\n    router.push(`/adDash`)\n}\n\nfunction Logout() {\n    localStorage.clear();\n    router.push(`/loginPage/`)\n}\n\n// // onMounted(() => {\n// //    chartData_func()\n  \n// });\n\n\n</script>\n\n<style  scoped>\n.navbar {\n    display: flex;\n    /* Ensure items are in a row */\n    justify-content: space-between;\n    /* Push items to the ends of the container */\n    align-items: center;\n    /* Vertically center items if needed */\n    text-align: center;\n    padding: 10px;\n    /* Add padding as needed */\n    /* background-color: #333; Change background color if needed */\n    color: #fff\n        /*Change text color if needed */\n}\n\n.navbar-brand {\n    text-align: center;\n    /* Center-align the text within the navbar */\n    flex-grow: 1;\n    /* Allow the name to expand and take available space */\n    margin: 0;\n    /* Remove any default margin */\n    /* font-family: 'Arial', sans-serif;  */\n    font-size: 32px;\n    font-weight: bold;\n    color: #4169E1;\n}\n\n.navbar-button {\n    margin-left: 10px;\n    /* Add spacing between buttons */\n    color: #166295;\n    /* Additional button styles like background color, text color, etc. */\n}\n</style>"],"mappings":";;gEAEQA,mBAAA,CAAuD;EAAnDC,KAAK,EAAC,cAAc;EAACC,IAAI,EAAC;GAAI,kBAAgB;gEActDF,mBAAA,CAAwC;EAApCG,KAAmC,EAAnC;IAAA;EAAA;AAAmC;;EAI7BC,GAAG,EAAC;AAAO;;uBApBzBC,mBAAA,CAAAC,SAAA,SACIN,mBAAA,CAcM;IAdDC,KAAK,EAAC;EAAkD,IACzDM,UAAuD,EACvDP,mBAAA,CAWM;IAXDC,KAAK,EAAC,QAAQ;IAACO,EAAE,EAAC;MACnBR,mBAAA,CASK;IATDC,KAAK,EAAC;EAAY,IAElBD,mBAAA,CAEK;IAFDC,KAAK,EAAC;EAAe,IACrBD,mBAAA,CAA0F;IAAlFS,IAAI,EAAC,eAAe;IAACR,KAAK,EAAC,iBAAiB;IAAES,OAAK,EAAEC,MAAA,CAAAC;KAAgB,MAAI,E,GAGrFZ,mBAAA,CAEK;IAFDC,KAAK,EAAC;EAAe,IACrBD,mBAAA,CAAoF;IAA5ES,IAAI,EAAC,eAAe;IAACR,KAAK,EAAC,iBAAiB;IAAES,OAAK,EAAEC,MAAA,CAAAE;KAAQ,QAAM,E,SAK3FC,UAAwC,EAExCd,mBAAA,CAIU,mBAHVA,mBAAA,CAEM,cADJA,mBAAA,CAA6B,UAA7Be,UAA6B,8B","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}