{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { ref, onMounted } from 'vue';\nimport { useRouter } from 'vue-router';\nimport axios from 'axios';\nimport { useStore } from 'vuex';\nexport default {\n  __name: 'admEditSection',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const store = useStore();\n    const router = useRouter();\n    const Section_id = store.getters.getSection_id;\n    const Section_Title = ref('');\n    const DateCreated = ref('');\n    const Description = ref('');\n    const url1 = `http://127.0.0.1:5000/admin_section/${Section_id}`;\n\n    // Function to fetch venue details and populate the form fields\n    const fetchSectionDetails = async () => {\n      const token = localStorage.getItem('token');\n\n      // Set up Axios with the token in the headers\n      const axiosInstance = axios.create({\n        baseURL: 'http://127.0.0.1:5000',\n        // Your API server's URL\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      });\n      await axiosInstance.get(url1).then(res => {\n        console.log(res);\n        const SectionData = res.data.sections;\n        console.log(SectionData);\n        Section_Title.value = SectionData.Section_Title;\n        DateCreated.value = SectionData.DateCreated;\n        Description.value = SectionData.Description;\n      }).catch(err => {\n        console.log(err);\n        alert(err.response.data.message);\n      });\n    };\n\n    // Function to update the venue details\n    const editSection = () => {\n      const data = {\n        Section_Title: Section_Title.value,\n        DateCreated: DateCreated.value,\n        Description: Description.value\n      };\n      const data_sent_config = {\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      };\n      const token = localStorage.getItem('token');\n\n      // Set up Axios with the token in the headers\n      const axiosInstance = axios.create({\n        baseURL: 'http://127.0.0.1:5000',\n        // Your API server's URL\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      });\n      axiosInstance.put(url1, data, data_sent_config).then(res => {\n        console.log(res);\n        router.push('/adDash');\n      }).catch(err => {\n        console.log(err);\n        alert(err.response.data.message);\n      });\n    };\n\n    // Fetch venue details when the component is mounted\n    onMounted(() => {\n      fetchSectionDetails();\n    });\n    const __returned__ = {\n      store,\n      router,\n      Section_id,\n      Section_Title,\n      DateCreated,\n      Description,\n      url1,\n      fetchSectionDetails,\n      editSection,\n      ref,\n      onMounted,\n      get useRouter() {\n        return useRouter;\n      },\n      get axios() {\n        return axios;\n      },\n      get useStore() {\n        return useStore;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","onMounted","useRouter","axios","useStore","store","router","Section_id","getters","getSection_id","Section_Title","DateCreated","Description","url1","fetchSectionDetails","token","localStorage","getItem","axiosInstance","create","baseURL","headers","get","then","res","console","log","SectionData","data","sections","value","catch","err","alert","response","message","editSection","data_sent_config","put","push"],"sources":["/Users/apsg/JANMAD2/elibrary/src/components/admEditSection.vue"],"sourcesContent":["<template>\n    <div>\n        <html lang=\"en\" dir=\"ltr\">\n\n        <head>\n            <meta charset=\"utf-8\">\n            <title>Edit Venue </title>\n\n        </head>\n\n        <body>\n            <div class=\"wrapper\">\n                <div class=\"title\">\n                    Edit Section\n                </div>\n                <form action=\"#\">\n                    <div class=\"field\">\n                        <input type=\"text\" required v-model=\"Section_Title\">\n                        <label>Section Tittle</label>\n                    </div>\n                    <div class=\"field\">\n                        <input type=\"date\" required v-model=\"DateCreated\">\n                        <label>Date created</label>\n                    </div>\n\n                    <div class=\"field\">\n                        <input type=\"text\" required v-model=\"Description\">\n                        <label>Description</label>\n                    </div>\n\n                    <div class=\"field\">\n                        <input type=\"editSection\"  readonly  value=\"Edit Section\" @click=\"editSection\">\n                    </div>\n                </form>\n            </div>\n        </body>\n\n        </html>\n\n    </div>\n</template>\n\n<script setup>\nimport { ref, onMounted } from 'vue';\nimport { useRouter } from 'vue-router';\nimport axios from 'axios';\nimport { useStore } from 'vuex';\n\nconst store = useStore();\nconst router = useRouter();\nconst Section_id = store.getters.getSection_id;\n\nconst Section_Title = ref('');\nconst DateCreated = ref('');\n\nconst Description = ref('');\n\nconst url1 = `http://127.0.0.1:5000/admin_section/${Section_id}`;\n\n// Function to fetch venue details and populate the form fields\nconst fetchSectionDetails = async () => {\n    const token = localStorage.getItem('token');\n\n// Set up Axios with the token in the headers\nconst axiosInstance = axios.create({\n    baseURL: 'http://127.0.0.1:5000', // Your API server's URL\n    headers: {\n        'Authorization': `Bearer ${token}`\n    }\n});\n    await axiosInstance.get(url1)\n        .then((res) => {\n            console.log(res)\n            const SectionData = res.data.sections;\n            console.log(SectionData)\n            Section_Title.value = SectionData.Section_Title;\n            DateCreated.value = SectionData.DateCreated;\n            Description.value = SectionData.Description;\n        })\n        .catch((err) => {\n            console.log(err);\n            alert(err.response.data.message)\n        });\n\n};\n\n\n// Function to update the venue details\nconst editSection = () => {\n    const data = {\n        Section_Title: Section_Title.value,\n        DateCreated: DateCreated.value,\n        Description: Description.value,\n   \n    };\n\n    const data_sent_config = {\n        headers: {\n            'Content-Type': 'application/json',\n        },\n    };\n\n    const token = localStorage.getItem('token');\n\n    // Set up Axios with the token in the headers\n    const axiosInstance = axios.create({\n        baseURL: 'http://127.0.0.1:5000', // Your API server's URL\n        headers: {\n            'Authorization': `Bearer ${token}`\n        }\n    });\n\n    axiosInstance.put(url1, data, data_sent_config)\n        .then((res) => {\n            console.log(res);\n            router.push('/adDash');\n        })\n        .catch((err) => {\n            console.log(err);\n            alert(err.response.data.message)\n        });\n};\n\n// Fetch venue details when the component is mounted\nonMounted(() => {\n    fetchSectionDetails();\n});\n</script>\n\n    \n<style  scoped>\n@import url('https://fonts.googleapis.com/css?family=Poppins:400,500,600,700&display=swap');\n\n* {\n    margin: 0;\n    padding: 0;\n    box-sizing: border-box;\n    font-family: 'Poppins', sans-serif;\n}\n\nhtml,\nbody {\n    display: grid;\n    height: 100%;\n    width: 100%;\n    place-items: center;\n    background: #f2f2f2;\n    /* background: linear-gradient(-135deg, #c850c0, #4158d0); */\n}\n\n::selection {\n    background: #4158d0;\n    color: #fff;\n}\n\n.wrapper {\n    width: 380px;\n    background: #fff;\n    border-radius: 15px;\n    box-shadow: 0px 15px 20px rgba(0, 0, 0, 0.1);\n}\n\n.wrapper .title {\n    font-size: 35px;\n    font-weight: 600;\n    text-align: center;\n    line-height: 100px;\n    color: #fff;\n    user-select: none;\n    border-radius: 15px 15px 0 0;\n    background: linear-gradient(-135deg, #c850c0, #4158d0);\n}\n\n.wrapper form {\n    padding: 10px 30px 50px 30px;\n}\n\n.wrapper form .field {\n    height: 50px;\n    width: 100%;\n    margin-top: 20px;\n    position: relative;\n}\n\n.wrapper form .field input {\n    height: 100%;\n    width: 100%;\n    outline: none;\n    font-size: 17px;\n    padding-left: 20px;\n    border: 1px solid lightgrey;\n    border-radius: 25px;\n    transition: all 0.3s ease;\n}\n\n.wrapper form .field input:focus,\nform .field input:valid {\n    border-color: #4158d0;\n}\n\n.wrapper form .field label {\n    position: absolute;\n    top: 50%;\n    left: 20px;\n    color: #999999;\n    font-weight: 400;\n    font-size: 17px;\n    pointer-events: none;\n    transform: translateY(-50%);\n    transition: all 0.3s ease;\n}\n\nform .field input:focus~label,\nform .field input:valid~label {\n    top: 0%;\n    font-size: 16px;\n    color: #4158d0;\n    background: #fff;\n    transform: translateY(-50%);\n}\n\nform .content {\n    display: flex;\n    width: 100%;\n    height: 50px;\n    font-size: 16px;\n    align-items: center;\n    justify-content: space-around;\n}\n\nform .content .checkbox {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n}\n\nform .content input {\n    width: 15px;\n    height: 15px;\n    background: red;\n}\n\nform .content label {\n    color: #262626;\n    user-select: none;\n    padding-left: 5px;\n}\n\nform .content .pass-link {\n    color: \"\";\n}\n\nform .field input[type=\"editSection\"] {\n    color: #fff;\n    border: none;\n    padding-left: 0;\n    margin-top: -10px;\n    font-size: 20px;\n    font-weight: 500;\n    cursor: pointer;\n    background: linear-gradient(-135deg, #c850c0, #4158d0);\n    transition: all 0.3s ease;\n    text-align: center;\n}\n\nform .field input[type=\"editSection\"]:active {\n    transform: scale(0.95);\n}\n\nform .signup-link {\n    color: #262626;\n    margin-top: 20px;\n    text-align: center;\n}\n\nform .pass-link a,\nform .signup-link a {\n    color: #4158d0;\n    text-decoration: none;\n}\n\nform .pass-link a:hover,\nform .signup-link a:hover {\n    text-decoration: underline;\n}\n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}