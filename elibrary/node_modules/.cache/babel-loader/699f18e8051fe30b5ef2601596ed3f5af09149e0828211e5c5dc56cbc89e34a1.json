{"ast":null,"code":"import { createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-1aec6a7d\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  lang: \"en\",\n  dir: \"ltr\"\n};\nconst _hoisted_2 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"head\", null, [/*#__PURE__*/_createElementVNode(\"meta\", {\n  charset: \"utf-8\"\n}), /*#__PURE__*/_createElementVNode(\"title\", null, \"Edit Book \")], -1 /* HOISTED */));\nconst _hoisted_3 = {\n  class: \"wrapper\"\n};\nconst _hoisted_4 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"title\"\n}, \" Edit Book \", -1 /* HOISTED */));\nconst _hoisted_5 = {\n  action: \"#\"\n};\nconst _hoisted_6 = {\n  class: \"field\"\n};\nconst _hoisted_7 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", null, \"Section Title\", -1 /* HOISTED */));\nconst _hoisted_8 = {\n  class: \"field\"\n};\nconst _hoisted_9 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", null, \"Book Title\", -1 /* HOISTED */));\nconst _hoisted_10 = {\n  class: \"field\"\n};\nconst _hoisted_11 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", null, \"Author\", -1 /* HOISTED */));\nconst _hoisted_12 = {\n  class: \"field\"\n};\nconst _hoisted_13 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", null, \"Content\", -1 /* HOISTED */));\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", null, [_createElementVNode(\"html\", _hoisted_1, [_hoisted_2, _createElementVNode(\"body\", null, [_createElementVNode(\"div\", _hoisted_3, [_hoisted_4, _createElementVNode(\"form\", _hoisted_5, [_createElementVNode(\"div\", _hoisted_6, [_withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    required: \"\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $setup.For_Section = $event)\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.For_Section]]), _hoisted_7]), _createElementVNode(\"div\", _hoisted_8, [_withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    required: \"\",\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $setup.Book_Title = $event)\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.Book_Title]]), _hoisted_9]), _createElementVNode(\"div\", _hoisted_10, [_withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    required: \"\",\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $setup.Author = $event)\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.Author]]), _hoisted_11]), _createElementVNode(\"div\", _hoisted_12, [_withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    required: \"\",\n    \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => $setup.Content = $event)\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.Content]]), _hoisted_13]), _createElementVNode(\"div\", {\n    class: \"field\"\n  }, [_createElementVNode(\"input\", {\n    type: \"editbook\",\n    value: \"Edit Book\",\n    onClick: $setup.editBook\n  })])])])])])]);\n}","map":{"version":3,"names":["lang","dir","_createElementVNode","charset","class","action","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","type","required","_cache","$event","$setup","For_Section","_hoisted_7","_hoisted_8","Book_Title","_hoisted_9","_hoisted_10","Author","_hoisted_11","_hoisted_12","Content","_hoisted_13","value","onClick","editBook"],"sources":["/Users/apsg/JANMAD2/elibrary/src/components/admEditBook.vue"],"sourcesContent":["<template>\n    <div>\n      <html lang=\"en\" dir=\"ltr\">\n  \n      <head>\n        <meta charset=\"utf-8\">\n        <title>Edit Book </title>\n      </head>\n  \n      <body>\n        <div class=\"wrapper\">\n          <div class=\"title\">\n            Edit Book\n          </div>\n          <form action=\"#\">\n            <div class=\"field\">\n              <input type=\"text\" required v-model=\"For_Section\">\n              <label>Section Title</label>\n            </div>\n\n            <div class=\"field\">\n              <input type=\"text\" required v-model=\"Book_Title\">\n              <label>Book Title</label>\n            </div>\n  \n            <div class=\"field\">\n              <input type=\"text\" required v-model=\"Author\">\n              <label>Author</label>\n            </div>\n  \n            <div class=\"field\">\n              <input type=\"text\" required v-model=\"Content\">\n              <label>Content</label>\n            </div>\n  \n            <div class=\"field\">\n              <input type=\"editbook\" value=\"Edit Book\" @click=\"editBook\">\n            </div>\n  \n  \n          </form>\n        </div>\n      </body>\n  \n      </html>\n  \n    </div>\n  </template>\n  \n  <script setup>\n  import { useRouter } from 'vue-router';\n  import { onMounted, ref } from 'vue';\n  import axios from 'axios';\n  import {useStore} from \"vuex\";\n  const router = useRouter();\n  const store = useStore();\n\n  const Book_id=store.getters.getBook_id;\n\n  const Book_Title = ref(\"\");\n  const Author = ref('');\n  const Content = ref(\"\");\n  const For_Section = ref(\"\");\n \n  // const url1=`http://127.0.0.1:5000/admin_section/${Book_id}`;\n  const url2=`http://127.0.0.1:5000/admin_book/${Book_id}`;\n\n  function fetchBookdata(){\n    console.log(url2)\n    console.log(Book_id)\n    \n    const token = localStorage.getItem('token');\n\n    // Set up Axios with the token in the headers\n    const axiosInstance = axios.create({\n        baseURL: 'http://127.0.0.1:5000', \n        headers: {\n            'Authorization': `Bearer ${token}`\n        }\n    });\n    axiosInstance.get( url2)\n        .then((res) => {\n            console.log(res)\n            const bookData = res.data.book; \n            console.log(bookData)\n            Book_Title.value=bookData.Book_Title\n            Author.value=bookData.Author\n            Content.value=bookData.Content\n            For_Section.value=bookData.ForSection\n\n        })\n        .catch((err) => {\n            console.log(err);\n        });\n  }\n\n  function editBook() {\n  \n    console.log(url2);\n    const data = {\n      Book_Title: Book_Title.value,\n      Author: Author.value,\n      Content: Content.value,\n      ForSection:For_Section.value,\n    };\n  \n    const data_sent_config = {\n      headers: {\n        'Content-Type': \"application/json\"\n      },\n    }\n    const token = localStorage.getItem('token');\n\n    // Set up Axios with the token in the headers\n    const axiosInstance = axios.create({\n        baseURL: 'http://127.0.0.1:5000', // Your API server's URL\n        headers: {\n            'Authorization': `Bearer ${token}`\n        }\n    });\n  \n    axiosInstance.put(url2, data, data_sent_config)\n      .then((res) => {\n      alert(res.data.message);\n      console.log(res)\n      router.push('/adDash');\n    }).catch((err) => {\n      console.log(err);\n      alert(err.response.data.message)\n    })\n  }\n\n  onMounted(()=> fetchBookdata())\n\n  </script>\n  \n\n  <style scoped>\n  @import url('https://fonts.googleapis.com/css?family=Poppins:400,500,600,700&display=swap');\n  \n  * {\n    margin: 0;\n    padding: 0;\n    box-sizing: border-box;\n    font-family: 'Poppins', sans-serif;\n  }\n  \n  html,\n  body {\n    display: grid;\n    height: 100%;\n    width: 100%;\n    place-items: center;\n    background: #f2f2f2;\n    /* background: linear-gradient(-135deg, #c850c0, #4158d0); */\n  }\n  \n  ::selection {\n    background: #4158d0;\n    color: #fff;\n  }\n  \n  .wrapper {\n    width: 380px;\n    background: #fff;\n    border-radius: 15px;\n    box-shadow: 0px 15px 20px rgba(0, 0, 0, 0.1);\n  }\n  \n  .wrapper .title {\n    font-size: 35px;\n    font-weight: 600;\n    text-align: center;\n    line-height: 100px;\n    color: #fff;\n    user-select: none;\n    border-radius: 15px 15px 0 0;\n    background: linear-gradient(-135deg, #c850c0, #4158d0);\n  }\n  \n  .wrapper form {\n    padding: 10px 30px 50px 30px;\n  }\n  \n  .wrapper form .field {\n    height: 50px;\n    width: 100%;\n    margin-top: 20px;\n    position: relative;\n  }\n  \n  .wrapper form .field input {\n    height: 100%;\n    width: 100%;\n    outline: none;\n    font-size: 17px;\n    padding-left: 20px;\n    border: 1px solid lightgrey;\n    border-radius: 25px;\n    transition: all 0.3s ease;\n  }\n  \n  .wrapper form .field input:focus,\n  form .field input:valid {\n    border-color: #4158d0;\n  }\n  \n  .wrapper form .field label {\n    position: absolute;\n    top: 50%;\n    left: 20px;\n    color: #999999;\n    font-weight: 400;\n    font-size: 17px;\n    pointer-events: none;\n    transform: translateY(-50%);\n    transition: all 0.3s ease;\n  }\n  \n  form .field input:focus~label,\n  form .field input:valid~label {\n    top: 0%;\n    font-size: 16px;\n    color: #4158d0;\n    background: #fff;\n    transform: translateY(-50%);\n  }\n  \n  form .content {\n    display: flex;\n    width: 100%;\n    height: 50px;\n    font-size: 16px;\n    align-items: center;\n    justify-content: space-around;\n  }\n  \n  form .content .checkbox {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n  }\n  \n  form .content input {\n    width: 15px;\n    height: 15px;\n    background: red;\n  }\n  \n  form .content label {\n    color: #262626;\n    user-select: none;\n    padding-left: 5px;\n  }\n  \n  form .content .pass-link {\n    color: \"\";\n  }\n  \n  form .field input[type=\"editbook\"] {\n    color: #fff;\n    border: none;\n    padding-left: 0;\n    margin-top: -10px;\n    font-size: 20px;\n    font-weight: 500;\n    cursor: pointer;\n    background: linear-gradient(-135deg, #c850c0, #4158d0);\n    transition: all 0.3s ease;\n    text-align: center;\n  }\n  \n  form .field input[type=\"editbook\"]:active {\n    transform: scale(0.95);\n  }\n  \n  form .signup-link {\n    color: #262626;\n    margin-top: 20px;\n    text-align: center;\n  }\n  \n  form .pass-link a,\n  form .signup-link a {\n    color: #4158d0;\n    text-decoration: none;\n  }\n  \n  form .pass-link a:hover,\n  form .signup-link a:hover {\n    text-decoration: underline;\n  }</style>"],"mappings":";;;EAEYA,IAAI,EAAC,IAAI;EAACC,GAAG,EAAC;;gEAEpBC,mBAAA,CAGO,e,aAFLA,mBAAA,CAAsB;EAAhBC,OAAO,EAAC;AAAO,I,aACrBD,mBAAA,CAAyB,eAAlB,YAAU,E;;EAIZE,KAAK,EAAC;AAAS;gEAClBF,mBAAA,CAEM;EAFDE,KAAK,EAAC;AAAO,GAAC,aAEnB;;EACMC,MAAM,EAAC;AAAG;;EACTD,KAAK,EAAC;AAAO;gEAEhBF,mBAAA,CAA4B,eAArB,eAAa;;EAGjBE,KAAK,EAAC;AAAO;gEAEhBF,mBAAA,CAAyB,eAAlB,YAAU;;EAGdE,KAAK,EAAC;AAAO;iEAEhBF,mBAAA,CAAqB,eAAd,QAAM;;EAGVE,KAAK,EAAC;AAAO;iEAEhBF,mBAAA,CAAsB,eAAf,SAAO;;uBA/BxBI,mBAAA,CA6CM,cA5CJJ,mBAAA,CA0CO,QA1CPK,UA0CO,GAxCPC,UAGO,EAEPN,mBAAA,CAiCO,eAhCLA,mBAAA,CA+BM,OA/BNO,UA+BM,GA9BJC,UAEM,EACNR,mBAAA,CA0BO,QA1BPS,UA0BO,GAzBLT,mBAAA,CAGM,OAHNU,UAGM,G,gBAFJV,mBAAA,CAAkD;IAA3CW,IAAI,EAAC,MAAM;IAACC,QAAQ,EAAR,EAAQ;IAhBzC,uBAAAC,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAgBmDC,MAAA,CAAAC,WAAW,GAAAF,MAAA;iDAAXC,MAAA,CAAAC,WAAW,E,GAChDC,UAA4B,C,GAG9BjB,mBAAA,CAGM,OAHNkB,UAGM,G,gBAFJlB,mBAAA,CAAiD;IAA1CW,IAAI,EAAC,MAAM;IAACC,QAAQ,EAAR,EAAQ;IArBzC,uBAAAC,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAqBmDC,MAAA,CAAAI,UAAU,GAAAL,MAAA;iDAAVC,MAAA,CAAAI,UAAU,E,GAC/CC,UAAyB,C,GAG3BpB,mBAAA,CAGM,OAHNqB,WAGM,G,gBAFJrB,mBAAA,CAA6C;IAAtCW,IAAI,EAAC,MAAM;IAACC,QAAQ,EAAR,EAAQ;IA1BzC,uBAAAC,MAAA,QAAAA,MAAA,MAAAC,MAAA,IA0BmDC,MAAA,CAAAO,MAAM,GAAAR,MAAA;iDAANC,MAAA,CAAAO,MAAM,E,GAC3CC,WAAqB,C,GAGvBvB,mBAAA,CAGM,OAHNwB,WAGM,G,gBAFJxB,mBAAA,CAA8C;IAAvCW,IAAI,EAAC,MAAM;IAACC,QAAQ,EAAR,EAAQ;IA/BzC,uBAAAC,MAAA,QAAAA,MAAA,MAAAC,MAAA,IA+BmDC,MAAA,CAAAU,OAAO,GAAAX,MAAA;iDAAPC,MAAA,CAAAU,OAAO,E,GAC5CC,WAAsB,C,GAGxB1B,mBAAA,CAEM;IAFDE,KAAK,EAAC;EAAO,IAChBF,mBAAA,CAA2D;IAApDW,IAAI,EAAC,UAAU;IAACgB,KAAK,EAAC,WAAW;IAAEC,OAAK,EAAEb,MAAA,CAAAc","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}