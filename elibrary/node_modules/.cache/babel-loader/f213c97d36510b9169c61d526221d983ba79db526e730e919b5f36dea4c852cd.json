{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { useRouter } from 'vue-router';\nimport { onMounted, ref } from 'vue';\nimport axios from 'axios';\nimport { useStore } from \"vuex\";\nexport default {\n  __name: 'admEditBook',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const router = useRouter();\n    const store = useStore();\n    const Book_id = store.getters.getBook_id;\n    const Book_Title = ref(\"\");\n    const Author = ref('');\n    const Content = ref(\"\");\n    const For_Section = ref(\"\");\n\n    // const url1=`http://127.0.0.1:5000/admin_section/${Book_id}`;\n    const url2 = `http://127.0.0.1:5000/admin_book/${Book_id}`;\n    function fetchBookdata() {\n      console.log(url2);\n      console.log(Book_id);\n      const token = localStorage.getItem('token');\n\n      // Set up Axios with the token in the headers\n      const axiosInstance = axios.create({\n        baseURL: 'http://127.0.0.1:5000',\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      });\n      axiosInstance.get(url2).then(res => {\n        console.log(res);\n        const bookData = res.data.book;\n        console.log(bookData);\n        Book_Title.value = bookData.Book_Title;\n        Author.value = bookData.Author;\n        Content.value = bookData.Content;\n        For_Section.value = bookData.ForSection;\n      }).catch(err => {\n        console.log(err);\n      });\n    }\n    function editBook() {\n      console.log(url2);\n      const data = {\n        Book_Title: Book_Title.value,\n        Author: Author.value,\n        Content: Content.value,\n        ForSection: For_Section.value\n      };\n      const data_sent_config = {\n        headers: {\n          'Content-Type': \"application/json\"\n        }\n      };\n      const token = localStorage.getItem('token');\n\n      // Set up Axios with the token in the headers\n      const axiosInstance = axios.create({\n        baseURL: 'http://127.0.0.1:5000',\n        // Your API server's URL\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      });\n      axiosInstance.put(url2, data, data_sent_config).then(res => {\n        console.alert(res);\n        router.push('/adDash');\n      }).catch(err => {\n        console.log(err);\n      });\n    }\n    onMounted(() => fetchBookdata());\n    const __returned__ = {\n      router,\n      store,\n      Book_id,\n      Book_Title,\n      Author,\n      Content,\n      For_Section,\n      url2,\n      fetchBookdata,\n      editBook,\n      get useRouter() {\n        return useRouter;\n      },\n      onMounted,\n      ref,\n      get axios() {\n        return axios;\n      },\n      get useStore() {\n        return useStore;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["useRouter","onMounted","ref","axios","useStore","router","store","Book_id","getters","getBook_id","Book_Title","Author","Content","For_Section","url2","fetchBookdata","console","log","token","localStorage","getItem","axiosInstance","create","baseURL","headers","get","then","res","bookData","data","book","value","ForSection","catch","err","editBook","data_sent_config","put","alert","push"],"sources":["/Users/apsg/JANMAD2/elibrary/src/components/admEditBook.vue"],"sourcesContent":["<template>\n    <div>\n      <html lang=\"en\" dir=\"ltr\">\n  \n      <head>\n        <meta charset=\"utf-8\">\n        <title>Edit Book </title>\n      </head>\n  \n      <body>\n        <div class=\"wrapper\">\n          <div class=\"title\">\n            Edit Book\n          </div>\n          <form action=\"#\">\n            <div class=\"field\">\n              <input type=\"text\" required v-model=\"For_Section\">\n              <label>Section Title</label>\n            </div>\n\n            <div class=\"field\">\n              <input type=\"text\" required v-model=\"Book_Title\">\n              <label>Book Title</label>\n            </div>\n  \n            <div class=\"field\">\n              <input type=\"text\" required v-model=\"Author\">\n              <label>Author</label>\n            </div>\n  \n            <div class=\"field\">\n              <input type=\"text\" required v-model=\"Content\">\n              <label>Content</label>\n            </div>\n  \n            <div class=\"field\">\n              <input type=\"editbook\" value=\"Edit Book\" @click=\"editBook\">\n            </div>\n  \n  \n          </form>\n        </div>\n      </body>\n  \n      </html>\n  \n    </div>\n  </template>\n  \n  <script setup>\n  import { useRouter } from 'vue-router';\n  import { onMounted, ref } from 'vue';\n  import axios from 'axios';\n  import {useStore} from \"vuex\";\n  const router = useRouter();\n  const store = useStore();\n\n  const Book_id=store.getters.getBook_id;\n\n  const Book_Title = ref(\"\");\n  const Author = ref('');\n  const Content = ref(\"\");\n  const For_Section = ref(\"\");\n \n  // const url1=`http://127.0.0.1:5000/admin_section/${Book_id}`;\n  const url2=`http://127.0.0.1:5000/admin_book/${Book_id}`;\n\n  function fetchBookdata(){\n    console.log(url2)\n    console.log(Book_id)\n    \n    const token = localStorage.getItem('token');\n\n    // Set up Axios with the token in the headers\n    const axiosInstance = axios.create({\n        baseURL: 'http://127.0.0.1:5000', \n        headers: {\n            'Authorization': `Bearer ${token}`\n        }\n    });\n    axiosInstance.get( url2)\n        .then((res) => {\n            console.log(res)\n            const bookData = res.data.book; \n            console.log(bookData)\n            Book_Title.value=bookData.Book_Title\n            Author.value=bookData.Author\n            Content.value=bookData.Content\n            For_Section.value=bookData.ForSection\n\n        })\n        .catch((err) => {\n            console.log(err);\n        });\n  }\n\n  function editBook() {\n  \n    console.log(url2);\n    const data = {\n      Book_Title: Book_Title.value,\n      Author: Author.value,\n      Content: Content.value,\n      ForSection:For_Section.value,\n    };\n  \n    const data_sent_config = {\n      headers: {\n        'Content-Type': \"application/json\"\n      },\n    }\n    const token = localStorage.getItem('token');\n\n    // Set up Axios with the token in the headers\n    const axiosInstance = axios.create({\n        baseURL: 'http://127.0.0.1:5000', // Your API server's URL\n        headers: {\n            'Authorization': `Bearer ${token}`\n        }\n    });\n  \n    axiosInstance.put(url2, data, data_sent_config)\n      .then((res) => {\n      console.alert(res);\n      router.push('/adDash');\n    }).catch((err) => {\n      console.log(err);\n    })\n  }\n\n  onMounted(()=> fetchBookdata())\n\n  </script>\n  \n\n  <style scoped>\n  @import url('https://fonts.googleapis.com/css?family=Poppins:400,500,600,700&display=swap');\n  \n  * {\n    margin: 0;\n    padding: 0;\n    box-sizing: border-box;\n    font-family: 'Poppins', sans-serif;\n  }\n  \n  html,\n  body {\n    display: grid;\n    height: 100%;\n    width: 100%;\n    place-items: center;\n    background: #f2f2f2;\n    /* background: linear-gradient(-135deg, #c850c0, #4158d0); */\n  }\n  \n  ::selection {\n    background: #4158d0;\n    color: #fff;\n  }\n  \n  .wrapper {\n    width: 380px;\n    background: #fff;\n    border-radius: 15px;\n    box-shadow: 0px 15px 20px rgba(0, 0, 0, 0.1);\n  }\n  \n  .wrapper .title {\n    font-size: 35px;\n    font-weight: 600;\n    text-align: center;\n    line-height: 100px;\n    color: #fff;\n    user-select: none;\n    border-radius: 15px 15px 0 0;\n    background: linear-gradient(-135deg, #c850c0, #4158d0);\n  }\n  \n  .wrapper form {\n    padding: 10px 30px 50px 30px;\n  }\n  \n  .wrapper form .field {\n    height: 50px;\n    width: 100%;\n    margin-top: 20px;\n    position: relative;\n  }\n  \n  .wrapper form .field input {\n    height: 100%;\n    width: 100%;\n    outline: none;\n    font-size: 17px;\n    padding-left: 20px;\n    border: 1px solid lightgrey;\n    border-radius: 25px;\n    transition: all 0.3s ease;\n  }\n  \n  .wrapper form .field input:focus,\n  form .field input:valid {\n    border-color: #4158d0;\n  }\n  \n  .wrapper form .field label {\n    position: absolute;\n    top: 50%;\n    left: 20px;\n    color: #999999;\n    font-weight: 400;\n    font-size: 17px;\n    pointer-events: none;\n    transform: translateY(-50%);\n    transition: all 0.3s ease;\n  }\n  \n  form .field input:focus~label,\n  form .field input:valid~label {\n    top: 0%;\n    font-size: 16px;\n    color: #4158d0;\n    background: #fff;\n    transform: translateY(-50%);\n  }\n  \n  form .content {\n    display: flex;\n    width: 100%;\n    height: 50px;\n    font-size: 16px;\n    align-items: center;\n    justify-content: space-around;\n  }\n  \n  form .content .checkbox {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n  }\n  \n  form .content input {\n    width: 15px;\n    height: 15px;\n    background: red;\n  }\n  \n  form .content label {\n    color: #262626;\n    user-select: none;\n    padding-left: 5px;\n  }\n  \n  form .content .pass-link {\n    color: \"\";\n  }\n  \n  form .field input[type=\"editbook\"] {\n    color: #fff;\n    border: none;\n    padding-left: 0;\n    margin-top: -10px;\n    font-size: 20px;\n    font-weight: 500;\n    cursor: pointer;\n    background: linear-gradient(-135deg, #c850c0, #4158d0);\n    transition: all 0.3s ease;\n    text-align: center;\n  }\n  \n  form .field input[type=\"editbook\"]:active {\n    transform: scale(0.95);\n  }\n  \n  form .signup-link {\n    color: #262626;\n    margin-top: 20px;\n    text-align: center;\n  }\n  \n  form .pass-link a,\n  form .signup-link a {\n    color: #4158d0;\n    text-decoration: none;\n  }\n  \n  form .pass-link a:hover,\n  form .signup-link a:hover {\n    text-decoration: underline;\n  }</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}