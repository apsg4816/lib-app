{"ast":null,"code":"import { createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, vModelText as _vModelText, withDirectives as _withDirectives, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-16244f00\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  class: \"navbar navbar-expand-lg navbar-light bg-darkblue\"\n};\nconst _hoisted_2 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"h4\", {\n  class: \"navbar-brand\",\n  href: \"#\"\n}, \" Feedback for Books\", -1 /* HOISTED */));\nconst _hoisted_3 = {\n  class: \"navbar-brand\",\n  href: \"#\"\n};\nconst _hoisted_4 = {\n  class: \"navbar-brand\",\n  href: \"#\"\n};\nconst _hoisted_5 = {\n  class: \"navbar-brand\",\n  href: \"#\"\n};\nconst _hoisted_6 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"hr\", {\n  style: {\n    \"border\": \"3px solid #4169E1\"\n  }\n}, null, -1 /* HOISTED */));\nconst _hoisted_7 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"head\", null, [/*#__PURE__*/_createElementVNode(\"meta\", {\n  charset: \"utf-8\"\n}), /*#__PURE__*/_createElementVNode(\"title\", null, \" Book Feedback by User \")], -1 /* HOISTED */));\nconst _hoisted_8 = {\n  class: \"wrapper\"\n};\nconst _hoisted_9 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"title\"\n}, \" Feedback for Book \", -1 /* HOISTED */));\nconst _hoisted_10 = {\n  action: \"#\"\n};\nconst _hoisted_11 = {\n  class: \"field\"\n};\nconst _hoisted_12 = {\n  class: \"field\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", null, [_createElementVNode(\"nav\", _hoisted_1, [_hoisted_2, _createElementVNode(\"h4\", _hoisted_3, _toDisplayString($setup.Section_Title), 1 /* TEXT */), _createElementVNode(\"h4\", _hoisted_4, _toDisplayString($setup.Book_Title), 1 /* TEXT */), _createElementVNode(\"h4\", _hoisted_5, _toDisplayString($setup.Book_Author), 1 /* TEXT */), _createElementVNode(\"div\", {\n    class: \"navbar\",\n    id: \"navbarNav\"\n  }, [_createElementVNode(\"ul\", {\n    class: \"navbar-nav\"\n  }, [_createElementVNode(\"li\", {\n    class: \"navbar-button\"\n  }, [_createElementVNode(\"button\", {\n    type: \"navbar-button\",\n    class: \"btn btn-primary\",\n    onClick: $setup.redirectToHome\n  }, \"Home\")]), _createElementVNode(\"li\", {\n    class: \"navbar-button\"\n  }, [_createElementVNode(\"button\", {\n    type: \"navbar-button\",\n    class: \"btn btn-danger\",\n    onClick: $setup.Logout\n  }, \"Logout\")])])])]), _hoisted_6, _hoisted_7, _createElementVNode(\"body\", null, [_createElementVNode(\"div\", _hoisted_8, [_hoisted_9, _createElementVNode(\"form\", _hoisted_10, [_createElementVNode(\"div\", _hoisted_11, [_withDirectives(_createElementVNode(\"input\", {\n    type: \"Number\",\n    required: \"\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $setup.Book_Rating = $event)\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.Book_Rating]]), _createElementVNode(\"label\", null, \"Rating for \" + _toDisplayString($setup.Book_Title), 1 /* TEXT */)]), _createElementVNode(\"div\", _hoisted_12, [_withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    required: \"\",\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $setup.User_comments = $event)\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.User_comments]]), _createElementVNode(\"label\", null, \"Comments for \" + _toDisplayString($setup.Book_Title), 1 /* TEXT */)]), _createElementVNode(\"div\", {\n    class: \"field\"\n  }, [_createElementVNode(\"input\", {\n    type: \"requestBook\",\n    readonly: \"\",\n    value: \"Submit Feedback\",\n    onClick: $setup.submitFeedback\n  })])])])])]);\n}","map":{"version":3,"names":["class","_createElementVNode","href","style","charset","action","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_toDisplayString","$setup","Section_Title","_hoisted_4","Book_Title","_hoisted_5","Book_Author","id","type","onClick","redirectToHome","Logout","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","required","_cache","$event","Book_Rating","_hoisted_12","User_comments","readonly","value","submitFeedback"],"sources":["/Users/apsg/JANMAD2/elibrary/src/components/userFeedback.vue"],"sourcesContent":["<template>\n    <div>\n        <nav class=\"navbar navbar-expand-lg navbar-light bg-darkblue\">\n            <h4 class=\"navbar-brand\" href=\"#\"> Feedback for Books</h4>\n            <h4 class=\"navbar-brand\" href=\"#\"> {{ Section_Title }}</h4>\n            <h4 class=\"navbar-brand\" href=\"#\">{{ Book_Title }}</h4>\n            <h4 class=\"navbar-brand\" href=\"#\">{{ Book_Author }}</h4>\n            <div class=\"navbar\" id=\"navbarNav\">\n                <ul class=\"navbar-nav\">\n                    <li class=\"navbar-button\">\n                        <button type=\"navbar-button\" class=\"btn btn-primary\" @click=\"redirectToHome\">Home</button>\n                    </li>\n                    <li class=\"navbar-button\">\n                        <button type=\"navbar-button\" class=\"btn btn-danger\" @click=\"Logout\">Logout</button>\n                    </li>\n                </ul>\n            </div>\n        </nav>\n        <hr style=\"border: 3px solid #4169E1;; \">\n\n        <head>\n            <meta charset=\"utf-8\">\n            <title> Book Feedback by User </title>\n        </head>\n\n        <body>\n            <div class=\"wrapper\">\n                <div class=\"title\">\n                    Feedback for Book\n                </div>\n                <form action=\"#\">\n                    <div class=\"field\">\n                        <input type=\"Number\" required v-model=\"Book_Rating\">\n                        <label>Rating for {{ Book_Title }}</label>\n                    </div>\n                    <div class=\"field\">\n                        <input type=\"text\" required v-model=\"User_comments\">\n                        <label>Comments for {{ Book_Title }} </label>\n                    </div>\n\n                    <div class=\"field\">\n                        <input type=\"requestBook\" readonly value=\"Submit Feedback\" @click=\"submitFeedback\">\n                    </div>\n                </form>\n            </div>\n        </body>\n\n    </div>\n</template>\n\n<script setup>\nimport { onMounted, ref } from 'vue';\nimport { useRouter } from 'vue-router';\nimport axios from 'axios';\nimport { useStore } from 'vuex';\n\nconst store = useStore()\nconst router = useRouter();\n\n\nconst Book_Rating = ref(\"\");\nconst Book_Title = ref('')\nconst Book_Author = ref('')\nconst User_comments = ref('')\nconst Section_Title = ref(store.getters.getSection_Title_user)\nconst user_id = ref('')\nconst user_name = ref('')\n\n\n\nfunction submitFeedback() {\n\n    const url = \"http://127.0.0.1:5000/user_feedback\";\n    const data = {\n        Book_Rating: Book_Rating.value,\n        user_name: user_name.value,\n        Book_Title: Book_Title.value,\n        Section_Title: store.getters.getSection_Title_user,\n        BookId: store.getters.getforBookId_feed,\n        User_comments: User_comments.value,\n        user_id: user_id.value,\n\n    };\n    console.log(data);\n    const data_sent_config = {\n        headers: {\n            'Content-Type': \"application/json\"\n        },\n    }\n    const token = localStorage.getItem('token');\n\n    // Set up Axios with the token in the headers\n    const axiosInstance = axios.create({\n        baseURL: 'http://127.0.0.1:5000', // Your API server's URL\n        headers: {\n            'Authorization': `Bearer ${token}`\n        }\n    });\n\n    axiosInstance.post(url, data, data_sent_config).then((res) => {\n        console.log(res);\n        alert(res.data.message)\n        router.push(`/userDash/${user_name.value}`);\n    }).catch((err) => {\n        console.log(err);\n    })\n}\n\nfunction redirectToHome() {\n    router.push(`/userDash/${store.getters.getuser_name}`)\n}\n\n\nfunction Logout() {\n    // Clear the entire local storage\n    localStorage.clear();\n    router.push(`/loginPage/`)\n}\n\n\nfunction BookDetailsForRequest() {\n    const storedData2 = localStorage.getItem('user_name');\n    if (storedData2) {\n        user_name.value = JSON.parse(storedData2);\n    }\n    user_id.value=JSON.parse(localStorage.getItem('user_id'))\n    const BookId = store.getters.getforBookId_feed;\n\n    console.log(BookId)\n    console.log(user_name.value)\n    const url = `http://127.0.0.1:5000/user_book/${BookId}`;\n\n    const token = localStorage.getItem('token');\n    // Set up Axios with the token in the headers\n    const axiosInstance = axios.create({\n        baseURL: 'http://127.0.0.1:5000',\n        headers: {\n            'Authorization': `Bearer ${token}`\n        }\n    });\n    try {\n        axiosInstance.get(url).then((res) => {\n            console.log(res)\n            Book_Title.value = res.data.book.Book_Title\n            Book_Author.value = res.data.book.Author\n\n        })\n    }\n    catch (error) {\n        console.error('Error fetching Data:', error);\n    }\n}\n\nonMounted(() => { BookDetailsForRequest() })\n\n</script>\n\n<style scoped>\n@import url('https://fonts.googleapis.com/css?family=Poppins:400,500,600,700&display=swap');\n\n/* * {\nmargin: 0;\npadding: 0;\nbox-sizing: border-box;\nfont-family: 'Poppins', sans-serif;\n} */\n\nhtml,\nbody {\n    display: grid;\n    height: 100%;\n    width: 100%;\n    place-items: center;\n    background: #ffffff;\n    /* background: linear-gradient(-135deg, #c850c0, #4158d0); */\n}\n\n::selection {\n    background: #4158d0;\n    color: #fff;\n}\n\n.wrapper {\n    width: 500px;\n    background: #fff;\n    border-radius: 15px;\n    box-shadow: 0px 15px 20px rgba(0, 0, 0, 0.1);\n}\n\n.wrapper .title {\n    font-size: 35px;\n    font-weight: 600;\n    text-align: center;\n    line-height: 100px;\n    color: #fff;\n    user-select: none;\n    border-radius: 15px 15px 0 0;\n    background-color: #4169E1;\n    ;\n    /* background: linear-gradient(-135deg, #c850c0, #4158d0); */\n}\n\n.wrapper form {\n    padding: 10px 30px 50px 30px;\n}\n\n.wrapper form .field {\n    height: 50px;\n    width: 100%;\n    margin-top: 20px;\n    position: relative;\n\n}\n\n.wrapper form .field input {\n    height: 100%;\n    width: 100%;\n    outline: none;\n    font-size: 17px;\n    padding-left: 20px;\n    border: 1px solid lightgrey;\n    border-radius: 25px;\n    transition: all 0.3s ease;\n    align-items: center;\n    flex: 1;\n}\n\n.wrapper form .field:focus,\nform .field input:valid {\n    border-color: #4158d0;\n}\n\n.wrapper form .field label {\n    position: absolute;\n    top: 0;\n    left: 20px;\n    color: #4158d0;\n    font-weight: 400;\n    font-size: 17px;\n    pointer-events: none;\n    transform: translateY(-50%);\n    transition: all 0.3s ease;\n\n}\n\nform .field input:focus~label,\nform .field input:valid~label {\n    top: 0%;\n    font-size: 16px;\n    color: #4158d0;\n    background: #fff;\n    transform: translateY(-50%);\n    text-align: center;\n}\n\n\n\nform .field input[type=\"requestBook\"] {\n    color: #fff;\n    border: none;\n    padding-left: 0;\n    margin-top: -10px;\n    font-size: 20px;\n    font-weight: 500;\n    /* cursor: pointer; */\n    background: linear-gradient(-135deg, #c850c0, #4158d0);\n    transition: all 0.3s ease;\n    text-align: center;\n}\n\nform .field input[type=\"requestBook\"]:active {\n    transform: scale(0.95);\n}\n\nform .pass-link a:hover,\nform .signup-link a:hover {\n    text-decoration: underline;\n}\n\n.navbar {\n    display: flex;\n    /* Ensure items are in a row */\n    justify-content: space-between;\n    /* Push items to the ends of the container */\n    align-items: center;\n    /* Vertically center items if needed */\n    text-align: center;\n    padding: 10px;\n    /* Add padding as needed */\n    /* background-color: #333; Change background color if needed */\n    color: #fff\n        /*Change text color if needed */\n}\n\n.navbar-brand {\n    text-align: center;\n    /* Center-align the text within the navbar */\n    flex-grow: 1;\n    /* Allow the name to expand and take available space */\n    margin: 0;\n    /* Remove any default margin */\n    /* font-family: 'Arial', sans-serif;  */\n    font-size: 32px;\n    font-weight: bold;\n    color: #4169E1;\n}\n\n.navbar-button {\n    margin-left: 10px;\n    /* Add spacing between buttons */\n    color: #166295;\n    /* Additional button styles like background color, text color, etc. */\n}\n</style>"],"mappings":";;;EAEaA,KAAK,EAAC;AAAkD;gEACzDC,mBAAA,CAA0D;EAAtDD,KAAK,EAAC,cAAc;EAACE,IAAI,EAAC;GAAI,qBAAmB;;EACjDF,KAAK,EAAC,cAAc;EAACE,IAAI,EAAC;;;EAC1BF,KAAK,EAAC,cAAc;EAACE,IAAI,EAAC;;;EAC1BF,KAAK,EAAC,cAAc;EAACE,IAAI,EAAC;;gEAYlCD,mBAAA,CAAyC;EAArCE,KAAoC,EAApC;IAAA;EAAA;AAAoC;gEAExCF,mBAAA,CAGO,e,aAFHA,mBAAA,CAAsB;EAAhBG,OAAO,EAAC;AAAO,I,aACrBH,mBAAA,CAAsC,eAA/B,yBAAuB,E;;EAIzBD,KAAK,EAAC;AAAS;gEAChBC,mBAAA,CAEM;EAFDD,KAAK,EAAC;AAAO,GAAC,qBAEnB;;EACMK,MAAM,EAAC;AAAG;;EACPL,KAAK,EAAC;AAAO;;EAIbA,KAAK,EAAC;AAAO;;uBAlClCM,mBAAA,CA8CM,cA7CFL,mBAAA,CAeM,OAfNM,UAeM,GAdFC,UAA0D,EAC1DP,mBAAA,CAA2D,MAA3DQ,UAA2D,EAAAC,gBAAA,CAArBC,MAAA,CAAAC,aAAa,kBACnDX,mBAAA,CAAuD,MAAvDY,UAAuD,EAAAH,gBAAA,CAAlBC,MAAA,CAAAG,UAAU,kBAC/Cb,mBAAA,CAAwD,MAAxDc,UAAwD,EAAAL,gBAAA,CAAnBC,MAAA,CAAAK,WAAW,kBAChDf,mBAAA,CASM;IATDD,KAAK,EAAC,QAAQ;IAACiB,EAAE,EAAC;MACnBhB,mBAAA,CAOK;IAPDD,KAAK,EAAC;EAAY,IAClBC,mBAAA,CAEK;IAFDD,KAAK,EAAC;EAAe,IACrBC,mBAAA,CAA0F;IAAlFiB,IAAI,EAAC,eAAe;IAAClB,KAAK,EAAC,iBAAiB;IAAEmB,OAAK,EAAER,MAAA,CAAAS;KAAgB,MAAI,E,GAErFnB,mBAAA,CAEK;IAFDD,KAAK,EAAC;EAAe,IACrBC,mBAAA,CAAmF;IAA3EiB,IAAI,EAAC,eAAe;IAAClB,KAAK,EAAC,gBAAgB;IAAEmB,OAAK,EAAER,MAAA,CAAAU;KAAQ,QAAM,E,SAK1FC,UAAyC,EAEzCC,UAGO,EAEPtB,mBAAA,CAoBO,eAnBHA,mBAAA,CAkBM,OAlBNuB,UAkBM,GAjBFC,UAEM,EACNxB,mBAAA,CAaO,QAbPyB,WAaO,GAZHzB,mBAAA,CAGM,OAHN0B,WAGM,G,gBAFF1B,mBAAA,CAAoD;IAA7CiB,IAAI,EAAC,QAAQ;IAACU,QAAQ,EAAR,EAAQ;IAhCrD,uBAAAC,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAgC+DnB,MAAA,CAAAoB,WAAW,GAAAD,MAAA;iDAAXnB,MAAA,CAAAoB,WAAW,E,GAClD9B,mBAAA,CAA0C,eAAnC,aAAW,GAAAS,gBAAA,CAAGC,MAAA,CAAAG,UAAU,iB,GAEnCb,mBAAA,CAGM,OAHN+B,WAGM,G,gBAFF/B,mBAAA,CAAoD;IAA7CiB,IAAI,EAAC,MAAM;IAACU,QAAQ,EAAR,EAAQ;IApCnD,uBAAAC,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAoC6DnB,MAAA,CAAAsB,aAAa,GAAAH,MAAA;iDAAbnB,MAAA,CAAAsB,aAAa,E,GAClDhC,mBAAA,CAA6C,eAAtC,eAAa,GAAAS,gBAAA,CAAGC,MAAA,CAAAG,UAAU,iB,GAGrCb,mBAAA,CAEM;IAFDD,KAAK,EAAC;EAAO,IACdC,mBAAA,CAAmF;IAA5EiB,IAAI,EAAC,aAAa;IAACgB,QAAQ,EAAR,EAAQ;IAACC,KAAK,EAAC,iBAAiB;IAAEhB,OAAK,EAAER,MAAA,CAAAyB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}